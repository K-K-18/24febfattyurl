{% extends "base.html" %}
{% load socialaccount %}

{% block title %}Sign Up Free - FattyURL{% endblock %}

{% block content %}
<div class="relative min-h-[85vh] flex items-center justify-center overflow-hidden py-12 px-4">
    <!-- Background ambient glow -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute top-[-10%] right-[10%] w-[400px] h-[400px] bg-emerald-500/5 rounded-full blur-[120px] animate-drift"></div>
        <div class="absolute bottom-[-10%] left-[10%] w-[350px] h-[350px] bg-lime-500/4 rounded-full blur-[100px] animate-drift-reverse"></div>
    </div>

    <div class="relative max-w-md w-full animate-fade-in-up">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-white font-display tracking-tight mb-3">Get <span class="text-transparent bg-clip-text bg-gradient-to-r from-lime-300 to-emerald-400">Started</span></h1>
            <p class="text-zinc-400 font-body">Create your free account to save links and track analytics.</p>
        </div>

        <div class="relative group">
            <!-- Animated glow behind card -->
            <div class="absolute -inset-[1px] bg-gradient-to-r from-emerald-500/20 via-lime-500/10 to-emerald-500/20 rounded-2xl blur-lg opacity-40 group-hover:opacity-60 transition-opacity duration-700"></div>

            <div class="relative bg-zinc-900/80 backdrop-blur-xl border border-zinc-800 rounded-2xl p-8 shadow-2xl">
                <!-- Social Signup -->
                <div class="space-y-3 mb-8">
                    {% if social_providers.google %}
                        <a href="{% provider_login_url 'google' %}"
                           class="flex items-center justify-center w-full px-4 py-3 bg-zinc-800/50 border border-zinc-700/50 rounded-xl hover:bg-zinc-700/50 hover:border-zinc-600 transition-all duration-200 group/btn">
                            <i class="fa-brands fa-google text-zinc-400 group-hover/btn:text-red-400 mr-3 transition-colors"></i>
                            <span class="text-sm font-bold text-zinc-300 group-hover/btn:text-white font-display">Sign up with Google</span>
                        </a>
                    {% endif %}
                    {% if social_providers.github %}
                        <a href="{% provider_login_url 'github' %}"
                           class="flex items-center justify-center w-full px-4 py-3 bg-zinc-800/50 border border-zinc-700/50 rounded-xl hover:bg-zinc-700/50 hover:border-zinc-600 transition-all duration-200 group/btn">
                            <i class="fa-brands fa-github text-zinc-400 group-hover/btn:text-white mr-3 transition-colors"></i>
                            <span class="text-sm font-bold text-zinc-300 group-hover/btn:text-white font-display">Sign up with GitHub</span>
                        </a>
                    {% endif %}

                    {% if not social_providers.google and not social_providers.github %}
                        <div class="rounded-xl border border-amber-500/20 bg-amber-500/5 text-amber-400 text-xs p-4 font-body leading-relaxed">
                            <i class="fa-solid fa-circle-info mr-2"></i>Social signup is currently unavailable. Please use email signup below.
                        </div>
                    {% endif %}
                </div>

                <div class="relative mb-8">
                    <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-zinc-800"></div></div>
                    <div class="relative flex justify-center text-xs uppercase tracking-widest font-bold"><span class="px-4 bg-zinc-900/80 text-zinc-600 font-display">or email</span></div>
                </div>

                <!-- Email Signup -->
                <form method="post" action="{% url 'account_signup' %}" class="space-y-5">
                    {% csrf_token %}
                    <div>
                        <label class="block text-xs font-bold text-zinc-500 uppercase tracking-widest mb-2 font-display">Email Address</label>
                        <input type="email" name="email" required
                               class="w-full px-4 py-3.5 rounded-xl bg-zinc-800/40 border border-zinc-700/50 focus:border-lime-500/50 focus:ring-2 focus:ring-lime-500/10 text-white placeholder-zinc-600 transition-all duration-200 font-body"
                               placeholder="you@example.com">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-zinc-500 uppercase tracking-widest mb-2 font-display">Password</label>
                        <input type="password" name="password1" required
                               class="w-full px-4 py-3.5 rounded-xl bg-zinc-800/40 border border-zinc-700/50 focus:border-lime-500/50 focus:ring-2 focus:ring-lime-500/10 text-white placeholder-zinc-600 transition-all duration-200 font-body"
                               placeholder="Create a strong password">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-zinc-500 uppercase tracking-widest mb-2 font-display">Confirm Password</label>
                        <input type="password" name="password2" required
                               class="w-full px-4 py-3.5 rounded-xl bg-zinc-800/40 border border-zinc-700/50 focus:border-lime-500/50 focus:ring-2 focus:ring-lime-500/10 text-white placeholder-zinc-600 transition-all duration-200 font-body"
                               placeholder="Confirm your password">
                    </div>
                    
                    {% if form.errors %}
                    <div class="bg-rose-500/10 border border-rose-500/20 text-rose-400 text-sm rounded-xl p-4 font-body">
                        {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                                <p class="flex items-center gap-2"><i class="fa-solid fa-circle-exclamation text-xs"></i> {{ error }}</p>
                            {% endfor %}
                        {% endfor %}
                    </div>
                    {% endif %}

                    <button type="submit" class="w-full bg-lime-400 text-zinc-900 py-4 rounded-xl font-bold text-lg hover:bg-lime-300 transition-all duration-200 shadow-lg shadow-lime-500/20 hover:scale-[1.01] active:scale-[0.99] cursor-pointer font-display mt-2">
                        Create Account
                    </button>
                </form>

                <p class="text-center text-sm text-zinc-500 mt-8 font-body">
                    Already have an account?
                    <a href="{% url 'account_login' %}" class="text-lime-400 hover:text-lime-300 font-bold font-display ml-1">Log in</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
